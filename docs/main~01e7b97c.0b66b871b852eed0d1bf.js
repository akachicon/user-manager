(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,a){a("34aQ"),e.exports=a("orQE")},"34aQ":function(e,t,a){"use strict";a.r(t);var n=a("jirp"),r=a.n(n),s=a("IKQL"),i=a.n(s),l=a("it7j"),o=a.n(l),u=a("2UZ+"),d=a.n(u),c=a("YhIr"),m=a.n(c),E=a("oMRA"),p=a.n(E),g=a("K/PF"),_=a.n(g),f=a("6Vmy"),h=a.n(f),R=a("U8p0"),S=a.n(R),b=a("q/UR"),y=a.n(b),N=a("896O"),U=a.n(N),F=a("o7PZ"),T=a.n(F),v=a("r3gx"),I=a.n(v),q=a("zx98"),C=a.n(q),A=a("rDoJ"),L=a.n(A),k=a("FdQX"),x=a.n(k),D=a("bpc9"),z=a.n(D),P=a("OlDy"),H=a.n(P),O=a("rVjy"),j=a.n(O),G=a("VWwk"),K=a.n(G),V=a("CuWn"),J=a.n(V),Q=a("z6jo"),w=a.n(Q),Z=a("aaOZ"),M=a.n(Z),X=a("b3Uv"),Y=a.n(X),B=a("RCps"),W=a.n(B),$=a("Av18"),ee=a.n($),te=a("AJKo"),ae=a.n(te),ne=a("DY28"),re=a.n(ne),se=a("3Yeq"),ie=a.n(se),le=a("/tvN"),oe=a.n(le),ue=a("j2i0"),de=a.n(ue),ce=a("e2Kn"),me=a.n(ce),Ee=a("uKE/"),pe=a.n(Ee),ge=a("GjCE"),_e=a.n(ge),fe=a("Gv0X"),he=a.n(fe),Re=a("MYxt"),Se=a.n(Re),be=a("zsc7"),ye=a.n(be),Ne=a("KBDK"),Ue=a.n(Ne),Fe=a("GKqq"),Te=a.n(Fe),ve=a("az+3"),Ie=a.n(ve),qe=a("fIq3"),Ce=a.n(qe),Ae=a("5hJT"),Le=a.n(Ae),ke=a("cr8s"),xe=a.n(ke),De=a("l+bf"),ze=a.n(De),Pe=a("uqQt"),He=a.n(Pe),Oe=a("Kz8+"),je=a.n(Oe),Ge=a("rVj0"),Ke=a.n(Ge),Ve=a("2Tod"),Je=a.n(Ve),Qe=a("3RxL"),we=a.n(Qe),Ze=a("lUNa"),Me=a.n(Ze),Xe=a("45ut"),Ye=a.n(Xe),Be=a("KEff"),We=a.n(Be),$e=a("b3pB"),et=a.n($e),tt=a("LAIM"),at=a.n(tt),nt=a("cljR"),rt=a.n(nt),st=a("imLM"),it=a.n(st),lt=a("PJhk"),ot=a.n(lt),ut=a("75LO"),dt=a.n(ut),ct=a("HZro"),mt=a.n(ct),Et=a("1qKx"),pt=a.n(Et),gt=a("3DBk"),_t=a.n(gt),ft=a("DbwS"),ht=a.n(ft),Rt=a("jPba"),St=a.n(Rt),bt=a("Anoy"),yt=a.n(bt),Nt=a("LXYL"),Ut=a.n(Nt),Ft=a("EZ0R"),Tt=a.n(Ft),vt=a("71V/"),It=a.n(vt),qt=a("9ZkT"),Ct=a.n(qt),At=a("X9m5"),Lt=a.n(At),kt=a("G2C3"),xt=a.n(kt),Dt=a("/dwC"),zt=a.n(Dt),Pt=a("1hyt"),Ht=a.n(Pt),Ot=a("vdga"),jt=a.n(Ot),Gt=a("EtPw"),Kt=a.n(Gt),Vt=a("fg5Z"),Jt=a.n(Vt),Qt=a("onqJ"),wt=a.n(Qt),Zt=a("J8hF"),Mt=a.n(Zt),Xt=a("iur1"),Yt=a.n(Xt),Bt=a("9ovy"),Wt=a.n(Bt),$t=a("Z8gF"),ea=a.n($t),ta=a("asZ9"),aa=a.n(ta),na=a("nsbO"),ra=a.n(na),sa=a("4aJ6"),ia=a.n(sa),la=a("m1Dn"),oa=a.n(la),ua=a("ABKx"),da=a.n(ua),ca=a("+jjx"),ma=a.n(ca),Ea=a("dtzt"),pa=a.n(Ea),ga=a("WppA"),_a=a.n(ga),fa=a("uPii"),ha=a.n(fa),Ra=a("f9rF"),Sa=a.n(Ra),ba=a("ao5+"),ya=a.n(ba),Na=a("BDzi"),Ua=a.n(Na),Fa=a("BTfu"),Ta=a.n(Fa),va=a("htXQ"),Ia=a.n(va),qa=a("S75U"),Ca=a.n(qa),Aa=a("zSai"),La=a.n(Aa),ka=a("6d4m"),xa=a.n(ka),Da=a("Jqo+"),za=a.n(Da),Pa=a("lQyR"),Ha=a.n(Pa),Oa=a("ScpY"),ja=a.n(Oa),Ga=a("hYEA"),Ka=a.n(Ga),Va=a("1ZPH"),Ja=a.n(Va),Qa=a("uj7L"),wa=a.n(Qa),Za=a("NhxO"),Ma=a.n(Za),Xa=a("XQs+"),Ya=a.n(Xa),Ba=a("FEHE"),Wa=a.n(Ba),$a=a("qeoz"),en=a.n($a),tn=a("Ndiv"),an=a.n(tn),nn=a("4enF"),rn=a.n(nn),sn=a("d8+F"),ln=a.n(sn),on=a("o6jA"),un=a.n(on),dn=a("1UqV"),cn=a.n(dn),mn=a("nd6X"),En=a.n(mn),pn=a("LuSm"),gn=a.n(pn),_n=a("Q/xc"),fn=a.n(_n),hn=a("42VA"),Rn=a.n(hn),Sn=a("Yw8D"),bn=a.n(Sn),yn=a("QiL/"),Nn=a.n(yn),Un=a("hMok"),Fn=a.n(Un),Tn=a("PxHS"),vn=a.n(Tn),In=a("orKN"),qn=a.n(In),Cn=a("GTEP"),An=a.n(Cn),Ln=a("4SRy"),kn=a.n(Ln),xn=a("F9vW"),Dn=a.n(xn),zn=a("W1QL"),Pn=a.n(zn),Hn=a("wcNg"),On=a.n(Hn)},orQE:function(e,t,a){"use strict";function n(e){var t=r(e,"string");return"symbol"===Object(p.a)(t)?t:t+""}function r(e,t){if("object"!==Object(p.a)(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==Object(p.a)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}a.r(t);var s=a("mXGw"),i=a.n(s),l=a("Hz1g"),o=a("vtzz"),u=a("/m4v"),d=a("cnbf"),c=a("iIYa"),m=a("yWWw"),E=a.n(m),p=a("J1LG"),g=a("dV/x"),_=a("mK0O"),f=a("CoJX"),h=a("2tSK"),R=a.n(h),S=Object(d.c)({users:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"FETCH_USERS_SUCCESS":return Object(f.a)({},e,t.users.reduce(function(e,t){return e[R()()]=t,e},{}));case"CREATE_USER":return Object(f.a)({},e,Object(_.a)({},R()(),t.data));case"UPDATE_USER":return Object(f.a)({},e,Object(_.a)({},t.id,t.data));case"DELETE_USER":var a=e[t.id],r=Object(g.a)(e,[t.id].map(n));return r;default:return e;}},genderFilter:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"none",t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SET_GENDER_FILTER":return t.filter;default:return e;}},ageSort:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"none",t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SET_AGE_SORT_DIRECTION":return t.direction;default:return e;}}}),b=function(e,t){return e.users[t]},y=function(e){return e.genderFilter},N=function(e){return e.ageSort},U=function(e,t){return"none"===t?e:e.filter(function(e){return e.data.gender===t})},F=function(e,t){if("none"===t)return e;var a;switch(t){case"ascending":a=function(e,t){return e.data.dob.age-t.data.dob.age};break;case"descending":a=function(e,t){return t.data.dob.age-e.data.dob.age};break;default:return function(){return 0};}return e.slice().sort(a)},T=function(e){var t=y(e),a=N(e),n=Object.keys(e.users).map(function(t){return{id:t,data:b(e,t)}});return n=U(n,t),n=F(n,a),n},v=Object(d.c)({isInitializing:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"FINISH_INITIALIZATION":return!1;default:return e;}},isFetching:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return!0;case"FETCH_USERS_SUCCESS":case"FETCH_USERS_FAILURE":return!1;default:return e;}},fetchError:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":case"FETCH_USERS_SUCCESS":return null;case"FETCH_USERS_FAILURE":return t.error;default:return e;}},userList:S}),I=function(e){return e.isInitializing},q=function(e){return e.isFetching},C=function(e){return e.fetchError&&e.fetchError.message},A=function(e){return T(e.userList)},L=function(e,t){return b(e.userList,t)},k=function(e){return y(e.userList)},x=function(e){return N(e.userList)},D=function(){try{var e=localStorage.getItem("state");return null===e?void 0:JSON.parse(e)}catch(e){}},z=function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}},P=a("hisu"),H=a("yBJb"),O=a("kMo5"),j=a("P+uj"),G=a("CHlC"),K=a("+aio"),V=a("7+fG"),J=a("jf7e"),Q=a("FbNb"),w=a("W0B4"),Z=a.n(w),M=a("czhI"),X=function(){return function(e){return e({type:"FETCH_USERS"}),M.get("https://randomuser.me/api/?results=3").then(function(t){e({type:"FETCH_USERS_SUCCESS",users:t.data.results})},function(t){e({type:"FETCH_USERS_FAILURE",error:t})})}},Y=function(e,t){return{type:"UPDATE_USER",id:e,data:t}},B={name:Z.a.shape({first:Z.a.string.isRequired,last:Z.a.string.isRequired}).isRequired,gender:Z.a.string.isRequired,dob:Z.a.shape({age:Z.a.oneOfType([Z.a.string,Z.a.number]).isRequired}).isRequired},W=a("thVU"),$=function(e){var t,a,n=e.name,r=e.gender,s=e.age,l=e.link,o=e.button;return l&&(t=i.a.createElement(W.a,{to:l.to,className:"user-entry__link"},l.text)),o&&(a=i.a.createElement("button",{type:"button",className:"user-entry__button",onClick:o.onClick},o.text)),i.a.createElement("div",{className:"user-entry"},i.a.createElement("span",{className:"user-entry__name"},"".concat(n.first," ").concat(n.last)),i.a.createElement("span",{className:"user-entry__gender"},r),i.a.createElement("span",{className:"user-entry__age"},s),i.a.createElement("span",{className:"user-entry__controls"},t,a))};$.defaultProps={link:null,button:null},$.propTypes={name:Z.a.shape({first:Z.a.string,last:Z.a.string}).isRequired,gender:Z.a.string.isRequired,age:Z.a.oneOfType([Z.a.string,Z.a.number]).isRequired,link:Z.a.shape({to:Z.a.string.isRequired,text:Z.a.string.isRequired}),button:Z.a.shape({onClick:Z.a.func.isRequired,text:Z.a.string.isRequired})};var ee=$,te=function(e){var t=e.user,a=e.deleteUser,n=t.data,r=n.name,s=n.gender,l=n.dob;return i.a.createElement(ee,{name:r,gender:s,age:l.age,link:{to:"/user/".concat(t.id),text:"edit"},button:{onClick:function(){return a(t.id)},text:"delete"}})};te.propTypes={user:Z.a.shape({id:Z.a.string,data:Z.a.shape(B).isRequired}).isRequired,deleteUser:Z.a.func.isRequired};var ae=Object(Q.a)(Object(u.b)(null,{deleteUser:function(e){return{type:"DELETE_USER",id:e}}})(te)),ne=function(e){var t,a,n=e.users,r=e.isFetching,s=e.genderFilter,l=e.ageSort,o=e.setGenderFilter,u=e.setAgeSortDirection,d=e.fetchUsers,c=e.fetchError;return r&&(t=i.a.createElement("p",{className:"user-list__fetch-message"},"Fetching data...")),c&&(a=i.a.createElement("p",{className:"user-list__fetch-error"},c,i.a.createElement("span",null,"Press \"FETCH MORE USER\" to retry"))),i.a.createElement("div",{className:"user-list"},i.a.createElement("div",{className:"user-list__selectors"},i.a.createElement("div",{className:"user-list__selector-group"},i.a.createElement("span",{className:"user-list__selector-label"},"gender:"),i.a.createElement("select",{name:"gender",className:"user-list__selector",onChange:function(t){o(t.target.value)},value:s},i.a.createElement("option",{className:"user-list__selector-option",value:"none"},"none"),i.a.createElement("option",{className:"user-list__selector-option",value:"male"},"male"),i.a.createElement("option",{className:"user-list__selector-option",value:"female"},"female"))),i.a.createElement("div",{className:"user-list__selector-group"},i.a.createElement("span",{className:"user-list__selector-label"},"sort by age:"),i.a.createElement("select",{name:"age",className:"user-list__selector",onChange:function(t){u(t.target.value)},value:l},i.a.createElement("option",{value:"none",className:"user-list__selector-option"},"none"),i.a.createElement("option",{value:"ascending",className:"user-list__selector-option"},"ascending"),i.a.createElement("option",{value:"descending",className:"user-list__selector-option"},"descending")))),i.a.createElement("ul",{className:"user-list__items"},i.a.createElement(ee,{name:{first:"NAME",last:""},gender:"GENDER",age:"AGE",link:{to:"/user/new",text:"create user"}}),n.map(function(e){return i.a.createElement("li",{key:e.id},i.a.createElement(ae,{user:e}))})),t,a,i.a.createElement("button",{type:"button",className:"user-list__fetch-button",onClick:d},"fetch more users"))};ne.defaultProps={fetchError:null},ne.propTypes={users:Z.a.arrayOf(Z.a.shape({id:Z.a.string,data:Z.a.shape(B).isRequired}).isRequired).isRequired,isFetching:Z.a.bool.isRequired,genderFilter:Z.a.string.isRequired,ageSort:Z.a.string.isRequired,setGenderFilter:Z.a.func.isRequired,setAgeSortDirection:Z.a.func.isRequired,fetchUsers:Z.a.func.isRequired,fetchError:Z.a.string};var re=Object(Q.a)(Object(u.b)(function(e){return{users:A(e),genderFilter:k(e),ageSort:x(e),isFetching:q(e),fetchError:C(e)}},{fetchUsers:X,setGenderFilter:function(e){return{type:"SET_GENDER_FILTER",filter:e}},setAgeSortDirection:function(e){return{type:"SET_AGE_SORT_DIRECTION",direction:e}}})(ne)),se=a("0942"),ie=function(e){function t(e){var a;return Object(P.a)(this,t),a=Object(O.a)(this,Object(j.a)(t).call(this,e)),a.onSubmit=a.onSubmit.bind(Object(se.a)(a)),a}return Object(G.a)(t,e),Object(H.a)(t,[{key:"onSubmit",value:function(t){t.preventDefault();var e=this.props,a=e.user,n=e.editUser,r=e.history,s=this.form.elements,i=s.firstname,l=s.lastname,o=s.gender,u=s.age;n(Object(f.a)({},a,{name:Object(f.a)({},a.name,{first:i.value,last:l.value}),dob:Object(f.a)({},a.dob,{age:u.value}),gender:o.value})),r.push("/")}},{key:"render",value:function(){var e=this,t=this.props,a=t.error,n=t.user;return a?i.a.createElement("p",null,a):i.a.createElement("form",{className:"edit-user",ref:function(t){e.form=t}},i.a.createElement("h1",{className:"edit-user__header"},"User Profile"),i.a.createElement("label",{htmlFor:"edit-user-firstname",className:"edit-user__label"},"First name:",i.a.createElement("input",{id:"edit-user-firstname",className:"edit-user__input",type:"text",name:"firstname",defaultValue:n.name.first})),i.a.createElement("label",{htmlFor:"edit-user-lastname",className:"edit-user__label"},"Last name:",i.a.createElement("input",{id:"edit-user-lastname",className:"edit-user__input",type:"text",name:"lastname",defaultValue:n.name.last})),i.a.createElement("label",{htmlFor:"edit-user-gender",className:"edit-user__label"},"Gender:",i.a.createElement("select",{id:"edit-user-gender",className:"edit-user__selector",name:"gender",defaultValue:n.gender},i.a.createElement("option",{value:"male"},"male"),i.a.createElement("option",{value:"female"},"female"))),i.a.createElement("label",{htmlFor:"edit-user-age",className:"edit-user__label"},"Age:",i.a.createElement("input",{id:"edit-user-age",className:"edit-user__input",type:"number",name:"age",defaultValue:n.dob.age})),i.a.createElement("button",{type:"submit",className:"edit-user__button",onClick:this.onSubmit},"save"))}}]),t}(s.Component);ie.defaultProps={error:null},ie.propTypes={user:Z.a.shape(B).isRequired,editUser:Z.a.func.isRequired,error:Z.a.string,history:Z.a.object.isRequired};var le=ie,oe={name:{first:"",last:""},gender:"",dob:{age:""}},ue=Object(Q.a)(Object(u.b)(function(){return{user:oe}},{editUser:function(e){return{type:"CREATE_USER",data:e}}})(le)),de=function(e){return e.slice(e.lastIndexOf("/")+1)},ce=Object(Q.a)(Object(u.b)(function(e,t){var a=t.location,n=de(a.pathname),r=L(e,n);return null===r?{error:"No user found"}:{user:r}},function(e,t){var a=t.location,n=de(a.pathname);return{editUser:function(t){e(Y(n,t))}}})(le)),me=function(e){function t(){return Object(P.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchUsers,a=e.finishInitialization,n=e.isInitializing;n&&(a(),t())}},{key:"render",value:function(){return i.a.createElement(V.a,null,i.a.createElement(J.a,{exact:!0,path:"/",component:re}),i.a.createElement(J.a,{path:"/user/new",component:ue}),i.a.createElement(J.a,{path:"/user/:id",component:ce}))}}]),t}(s.Component);me.defaultProps={finishInitialization:function(){}},me.propTypes={fetchUsers:Z.a.func.isRequired,finishInitialization:Z.a.func,isInitializing:Z.a.bool.isRequired};var Ee=Object(Q.a)(Object(u.b)(function(e){return{isInitializing:I(e)}},{finishInitialization:function(){return{type:"FINISH_INITIALIZATION"}},fetchUsers:X})(me)),pe=Object(K.hot)(Ee),ge=a("h3ov"),_e=function(){var e=D(),t=Object(d.d)(v,e,Object(d.a)(c.a));return t.subscribe(E()(function(){z(t.getState())},1e3)),t}();Object(l.render)(i.a.createElement(u.a,{store:_e},i.a.createElement(o.a,null,i.a.createElement(pe,null))),document.getElementById("root"))}},[[0,1,3,2,4]]]);